!function(a){"use strict";function e(){var b,c,a=navigator.plugins||[];for(b=0;b<a.length;b++)if(c=a[b],"np-mswmp.dll"==c["filename"])return!0;return!1}function i(){var c,b="";for(c in a.fn.media.defaults.players)b.length&&(b+=","),b+=a.fn.media.defaults.players[c].types;return new RegExp("\\.("+b.replace(/,/gi,"|")+")\\b")}function j(a){return function(b,c){return m(b,c,a)}}function k(a){return"0123456789".indexOf(a)>-1}function l(b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;for(c=c||{},f=a(b),g=b.className||"",h=a.metadata?f.metadata():a.meta?f.data():{},h=h||{},i=h.width||parseInt((g.match(/\bw:(\d+)/)||[])[1]||0,10)||parseInt((g.match(/\bwidth:(\d+)/)||[])[1]||0,10),j=h.height||parseInt((g.match(/\bh:(\d+)/)||[])[1]||0,10)||parseInt((g.match(/\bheight:(\d+)/)||[])[1]||0,10),i&&(h.width=i),j&&(h.height=j),g&&(h.cls=g),k="data-",l=0;l<b.attributes.length;l++)d=b.attributes[l],e=a.trim(d.name),m=e.indexOf(k),0===m&&(e=e.substring(k.length),h[e]=d.value);return d=a.fn.media.defaults,n=c,o=h,p={params:{bgColor:c.bgColor||a.fn.media.defaults.bgColor}},q=a.extend({},d,n,o),a.each(["attrs","params","flashvars","silverlight"],function(b,c){q[c]=a.extend({},p[c]||{},d[c]||{},n[c]||{},o[c]||{})}),"undefined"==typeof q.caption&&(q.caption=f.text()),q.src=q.src||f.attr("href")||f.attr("src")||"unknown",q}function m(b,e,f){var i,j,k,l,m,n,o,p,g=a(b),h=a.fn.media.defaults.players[f];if("iframe"==f)h=a('<iframe width="'+e.width+'" height="'+e.height+'" >'),h.attr("src",e.src),h.css("backgroundColor",h.bgColor);else if("img"==f)h=a("<img>"),h.attr("src",e.src),e.width&&h.attr("width",e.width),e.height&&h.attr("height",e.height),h.css("backgroundColor",h.bgColor);else if(d){i=['<object width="'+e.width+'" height="'+e.height+'" '];for(j in e.attrs)i.push(j+'="'+e.attrs[j]+'" ');for(j in h.ieAttrs||{})k=h.ieAttrs[j],"codebase"==j&&"https:"==window.location.protocol&&(k=k.replace("http","https")),i.push(j+'="'+k+'" ');i.push("></object>"),l=['<param name="'+(h.oUrl||"src")+'" value="'+e.src+'">'];for(j in e.params)l.push('<param name="'+j+'" value="'+e.params[j]+'">');for(h=document.createElement(i.join("")),m=0;m<l.length;m++)h.appendChild(document.createElement(l[m]))}else if(e.standards){if(i=['<object type="'+h.mimetype+'" width="'+e.width+'" height="'+e.height+'"'],e.src&&i.push(' data="'+e.src+'" '),c)for(j in h.ieAttrs||{})k=h.ieAttrs[j],"codebase"==j&&"https:"==window.location.protocol&&(k=k.replace("http","https")),i.push(j+'="'+k+'" ');i.push(">"),i.push('<param name="'+(h.oUrl||"src")+'" value="'+e.src+'">');for(j in e.params)("wmode"!=j||"flash"==f)&&i.push('<param name="'+j+'" value="'+e.params[j]+'">');i.push("<div><p><strong>"+h.title+" Required</strong></p><p>"+h.title+' is required to view this media. <a href="'+h.pluginspage+'">Download Here</a>.</p></div>'),i.push("</object>")}else{i=['<embed width="'+e.width+'" height="'+e.height+'" style="display:block;"'],e.src&&i.push(' src="'+e.src+'" ');for(j in e.attrs)i.push(j+'="'+e.attrs[j]+'" ');for(j in h.eAttrs||{})i.push(j+'="'+h.eAttrs[j]+'" ');for(j in e.params)("wmode"!=j||"flash"==f)&&i.push(j+'="'+e.params[j]+'" ');i.push("></embed>")}return n=b.id?' id="'+b.id+'"':"",o=e.cls?' class="'+e.cls+'"':"",p=a("<div"+n+o+">"),g.after(p).remove(),d||"iframe"==f||"img"==f?p.append(h):p.html(i.join("")),e.caption&&a("<div>").appendTo(p).html(e.caption),p}var f,g,h,b=document.documentMode||0,c=/MSIE/.test(navigator.userAgent),d=c&&(/MSIE (6|7|8)\.0/.test(navigator.userAgent)||9>b);a.fn.media=function(b,c,d){return"undo"==b?this.each(function(){var b=a(this),c=b.data("media.origHTML");c&&b.replaceWith(c)}):this.each(function(){var e,f,g,h,j,m,n,o,p;for("function"==typeof b&&(d=c,c=b,b={}),e=l(this,b),"function"==typeof c&&c(this,e),f=i(),g=f.exec(e.src.toLowerCase())||[""],e.type?g[0]=e.type:g.shift(),j=0;j<g.length;j++)if(h=g[j].toLowerCase(),k(h[0])&&(h="fn"+h),a.fn.media[h]){m=a.fn.media[h+"_player"],e.params||(e.params={}),m&&(n="autostart"==m.autoplayAttr,e.params[m.autoplayAttr||"autoplay"]=n?e.autoplay?1:0:e.autoplay?!0:!1),o=a.fn.media[h](this,e),o.css("backgroundColor",e.bgColor).width(e.width),e.canUndo&&(p=a("<div></div>").append(this),o.data("media.origHTML",p.html())),"function"==typeof d&&d(this,o[0],e,m.name);break}})},a.fn.media.mapFormat=function(b,c){b&&c&&a.fn.media.defaults.players[c]&&(b=b.toLowerCase(),k(b[0])&&(b="fn"+b),a.fn.media[b]=a.fn.media[c],a.fn.media[b+"_player"]=a.fn.media.defaults.players[c])},a.fn.media.defaults={standards:!0,canUndo:!0,width:400,height:400,autoplay:0,bgColor:"#ffffff",params:{wmode:"transparent"},attrs:{},flvKeyName:"file",flashvars:{},flashVersion:"7",expressInstaller:null,flvPlayer:"mediaplayer.swf",mp3Player:"mediaplayer.swf",silverlight:{inplaceInstallPrompt:"true",isWindowless:"true",framerate:"24",version:"0.9",onError:null,onLoad:null,initParams:null,userContext:null}},a.fn.media.defaults.players={flash:{name:"flash",title:"Flash",types:"flv,mp3,swf",mimetype:"application/x-shockwave-flash",pluginspage:"http://www.adobe.com/go/getflashplayer",ieAttrs:{classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",type:"application/x-oleobject",codebase:"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+a.fn.media.defaults.flashVersion}},quicktime:{name:"quicktime",title:"QuickTime",mimetype:"video/quicktime",pluginspage:"http://www.apple.com/quicktime/download/",types:"aif,aiff,aac,au,bmp,gsm,mov,mid,midi,mpg,mpeg,mp4,m4a,psd,qt,qtif,qif,qti,snd,tif,tiff,wav,3g2,3gp",ieAttrs:{classid:"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",codebase:"http://www.apple.com/qtactivex/qtplugin.cab"}},realplayer:{name:"real",title:"RealPlayer",types:"ra,ram,rm,rpm,rv,smi,smil",mimetype:"audio/x-pn-realaudio-plugin",pluginspage:"http://www.real.com/player/",autoplayAttr:"autostart",ieAttrs:{classid:"clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA"}},winmedia:{name:"winmedia",title:"Windows Media",types:"asx,asf,avi,wma,wmv",mimetype:e()?"application/x-ms-wmp":"application/x-mplayer2",pluginspage:"http://www.microsoft.com/Windows/MediaPlayer/",autoplayAttr:"autostart",oUrl:"url",ieAttrs:{classid:"clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6",type:"application/x-oleobject"}},img:{name:"img",title:"Image",types:"gif,png,jpg"},iframe:{name:"iframe",types:"html,pdf"},silverlight:{name:"silverlight",types:"xaml"}},f=1;for(g in a.fn.media.defaults.players)h=a.fn.media.defaults.players[g].types,a.each(h.split(","),function(b,c){k(c[0])&&(c="fn"+c),a.fn.media[c]=a.fn.media[g]=j(g),a.fn.media[c+"_player"]=a.fn.media.defaults.players[g]});a.fn.media.swf=function(b,c){var d,e,g,h,i,j,k;if(!window.SWFObject&&!window.swfobject){if(c.flashvars){g=[];for(d in c.flashvars)g.push(d+"="+c.flashvars[d]);c.params||(c.params={}),c.params.flashvars=g.join("&")}return m(b,c,"flash")}if(h=b.id?' id="'+b.id+'"':"",i=c.cls?' class="'+c.cls+'"':"",j=a("<div"+h+i+">"),window.swfobject)a(b).after(j).appendTo(j),b.id||(b.id="movie_player_"+f++),window.swfobject.embedSWF(c.src,b.id,c.width,c.height,c.flashVersion,c.expressInstaller,c.flashvars,c.params,c.attrs);else{a(b).after(j).remove(),k=new SWFObject(c.src,"movie_player_"+f++,c.width,c.height,c.flashVersion,c.bgColor),c.expressInstaller&&k.useExpressInstall(c.expressInstaller);for(e in c.params)"bgColor"!=e&&k.addParam(e,c.params[e]);for(d in c.flashvars)k.addVariable(d,c.flashvars[d]);k.write(j[0])}return c.caption&&a("<div>").appendTo(j).html(c.caption),j},a.fn.media.flv=a.fn.media.mp3=function(b,c){var g,d=c.src,e=/\.mp3\b/i.test(d)?c.mp3Player:c.flvPlayer,f=c.flvKeyName;return d=encodeURIComponent(d),c.src=e,c.src=c.src+"?"+f+"="+d,g={},g[f]=d,c.flashvars=a.extend({},g,c.flashvars),a.fn.media.swf(b,c)},a.fn.media.xaml=function(b,c){var d,e,g,h,i,j;if(!window.Sys||!window.Sys.Silverlight){if(a.fn.media.xaml.warning)return;return a.fn.media.xaml.warning=1,alert("You must include the Silverlight.js script."),void 0}return d={width:c.width,height:c.height,background:c.bgColor,inplaceInstallPrompt:c.silverlight.inplaceInstallPrompt,isWindowless:c.silverlight.isWindowless,framerate:c.silverlight.framerate,version:c.silverlight.version},e={onError:c.silverlight.onError,onLoad:c.silverlight.onLoad},g=b.id?' id="'+b.id+'"':"",h=c.id||"AG"+f++,i=c.cls?' class="'+c.cls+'"':"",j=a("<div"+g+i+">"),a(b).after(j).remove(),Sys.Silverlight.createObjectEx({source:c.src,initParams:c.silverlight.initParams,userContext:c.silverlight.userContext,id:h,parentElement:j[0],properties:d,events:e}),c.caption&&a("<div>").appendTo(j).html(c.caption),j}}(jQuery);